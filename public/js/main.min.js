var $;jQuery,jQuery(document).ready(function(t){t(document).on("click",".sip-rswc-load-more-btn",function(a){a.preventDefault();var e=t(this),o=e.data("product-id"),s=e.data("offset"),i=e.data("limit"),n=sip_rswc_ajax.ajax_url,r=sip_rswc_ajax.nonce,d=t(".commentlist-"+o);e.prop("disabled",!0).text("Loading..."),t.ajax({url:n,type:"POST",dataType:"json",data:{action:"sip_rswc_load_more_reviews",product_id:o,offset:s,limit:i,nonce:r},success:function(t){t.success&&t.data.html?(d.append(t.data.html),e.data("offset",s+i),t.data.btn||t.data.count<1?e.remove():e.prop("disabled",!1).text(t.data.txt)):e.remove()}})}),t(document).on("click",".sip-rswc-rating-data-count",function(a){a.preventDefault();var e=t(this).closest(".sip-rswc-rating-table"),o=t(this).data("count"),s=e.data("product-id"),i=sip_rswc_ajax.ajax_url,n=sip_rswc_ajax.nonce,r=sip_rswc_ajax.loader,d=t(".commentlist-"+s);if(t(".sip-rswc-load-more-btn").remove(),!s||!i){console.warn("Missing product or AJAX data attributes.");return}d.addClass("loading").html('<img src="'+r+'" alt="Loading...">'),t.ajax({url:i,type:"POST",dataType:"json",data:{action:"sip_rswc_filter_reviews_by_rating",product_id:s,rating:o,nonce:n},success:function(t){t.success&&t.data.html?d.html(t.data.html):d.html("<li><p>No reviews found for "+o+" stars.</p></li>")},complete:function(){d.removeClass("loading")}})})});